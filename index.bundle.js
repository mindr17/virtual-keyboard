(()=>{"use strict";var e={766:(e,t,s)=>{s.r(t),s.d(t,{default:()=>r});const r='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="#"> <title>Virtual Keyboard</title> </head> <body> </body> </html> '},373:(e,t,s)=>{s.r(t)},117:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(510));t.default=class{keyboardElem;btnObj;elem;char;constructor(e,t){this.keyboardElem=e,this.btnObj=t,this.elem=this.buildBtn(this.btnObj)}buildBtn(e){const t=new i.default(this.keyboardElem,"div","keyboard__key btn","").node;return e.width&&(t.style.minWidth=this.btnObj.width,t.style.flexGrow="1"),e.utility&&t.classList.add("btn_utility"),t}update(e,t,s){this.elem.textContent="",this.char=this.btnObj.key,this.btnObj.utility||(t?t&&("en"!==e||s||this.btnObj.key.toUpperCase()===this.btnObj.key?"en"===e&&s?this.btnObj.key.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.key:this.btnObj.upperCased&&(this.char=this.btnObj.upperCased):"ru"!==e||s?"ru"===e&&s&&(this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.keyRU:this.btnObj.upperCased&&(this.char=this.btnObj.keyRUUpper)):this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key&&(this.char=this.btnObj.keyRU.toUpperCase()):this.char=this.btnObj.key.toUpperCase()):"en"===e&&s?this.btnObj.key.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.key.toUpperCase():this.char=this.btnObj.upperCased:"ru"!==e||s?"ru"===e&&s&&(this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.keyRU.toUpperCase():this.btnObj.upperCased&&(this.char=this.btnObj.keyRUUpper)):this.btnObj.keyRU&&(this.char=this.btnObj.keyRU)),new i.default(this.elem,"div","btn__char",this.char)}}},510:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{node;constructor(e,t,s,r){const i=t?document.createElement(t):document.createElement("div");if(s){const e=s.split(" ");i.classList.add(...e)}r&&(i.textContent=r),e&&e.append(i),this.node=i}destroy(){this.node.remove()}}},622:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(760)),p=r(s(510)),d=r(s(117));t.default=()=>{const{body:e}=document,t=new p.default(e,"main","main"),s=new p.default(t.node,"header","header").node;new p.default(s,"h1","header__title","RSS виртуальная клавиатура").node,new p.default(s,"div","header__description","Создано для Windows. Переключение языка alt + shift").node;const r=new p.default(t.node,"textarea","input-wrapper").node,o=new p.default(t.node,"div","keyboard-wrapper").node;new class{keyboardElem;btnsArr;pressedArr;shift;capsLock;control;alt;language;inputElem;constructor(e,t){this.capsLock=!1,this.shift=!1,this.alt=!1,this.control=!1,this.language="en",localStorage.getItem("virtualKeyboardLanguage")||localStorage.setItem("virtualKeyboardLanguage",this.language),this.pressedArr=[],this.btnsArr=[],this.inputElem=t,this.keyboardElem=new p.default(e,"div","keyboard").node,this.btnsArr=this.addBtns(),this.updateBtns(),this.addGlobalListeners(this.btnsArr)}addBtns(){let e=[];return i.default.forEach((t=>{const s=new d.default(this.keyboardElem,t);e.push(s),s.elem.onmousedown=()=>{this.keyDown(s)},s.elem.onmouseup=()=>{this.keyUp(s)},s.elem.onmouseout=()=>{this.keyUp(s)}})),e}addGlobalListeners(e){window.onkeydown=t=>{t.preventDefault(),e.forEach((e=>{t.code===e.btnObj.code&&this.keyDown(e)}))},window.onkeyup=t=>{t.preventDefault(),e.forEach((e=>{t.code===e.btnObj.code&&this.keyUp(e)}))}}checkIfPressed(e){return this.pressedArr.filter((t=>t.btnObj.code===e)).length>0}keyDown(e){e.elem.classList.add("btn_pressed"),this.pressedArr.indexOf(e)<0?(this.pressedArr.push(e),this.shift=this.checkIfPressed("ShiftLeft"),"CapsLock"===e.btnObj.key&&(this.capsLock=!this.capsLock,this.capsLock||e.elem.classList.remove("btn_pressed")),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.alt&&this.shift?(this.language="en"===this.language?"ru":"en",localStorage.setItem("virtualKeyboardLanguage",this.language),this.updateBtns()):this.updateBtns()):this.updateBtns(),this.print(r,e)}keyUp(e){this.pressedArr.forEach(((t,s)=>{t===e&&(this.pressedArr.splice(s,1),this.shift=this.checkIfPressed("ShiftLeft"),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.updateBtns())})),"CapsLock"!==e.btnObj.code&&e.elem.classList.remove("btn_pressed")}print(e,t){let s=e.selectionEnd,r=e.value;0===s&&(s=r.length);let i=r.substring(0,s),p=r.substring(s,r.length),d="";"Backspace"===t.btnObj.code?(i=i.substring(0,i.length-1),d=i+p,s--):"Delete"===t.btnObj.code?(p=p.substring(1,p.length),d=i+p):"Enter"===t.btnObj.code?(d=i+"\n"+p,s++):"Tab"===t.btnObj.code?(d=i+"    "+p,s+=4):t.btnObj.utility?d=r:(d=i+t.char+p,s++),e.value=d,e.setSelectionRange(s,s)}updateBtns(){this.language=localStorage.getItem("virtualKeyboardLanguage"),this.btnsArr.forEach((e=>{e.update(this.language,this.capsLock,this.shift)}))}}(o,r)}},550:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(0,r(s(622)).default)()},760:e=>{e.exports=JSON.parse('[{"key":"`","upperCased":"~","keyRU":"ё","keyRUUpper":"Ё","code":"Backquote"},{"key":"1","upperCased":"!","keyRU":"1","keyRUUpper":"!","code":"Digit1"},{"key":"2","upperCased":"@","keyRU":"2","keyRUUpper":"\\"","code":"Digit2"},{"key":"3","upperCased":"#","keyRU":"3","keyRUUpper":"№","code":"Digit3"},{"key":"4","upperCased":"$","keyRU":"4","keyRUUpper":";","code":"Digit4"},{"key":"5","upperCased":"$","keyRU":"5","keyRUUpper":"%","code":"Digit5"},{"key":"6","upperCased":"^","keyRU":"6","keyRUUpper":":","code":"Digit6"},{"key":"7","upperCased":"&","keyRU":"7","keyRUUpper":"?","code":"Digit7"},{"key":"8","upperCased":"*","keyRU":"8","keyRUUpper":"*","code":"Digit8"},{"key":"9","keyRU":"9","upperCased":"(","keyRUUpper":"*","code":"Digit9"},{"key":"0","keyRU":"0","upperCased":")","keyRUUpper":"*","code":"Digit0"},{"key":"-","upperCased":"_","keyRU":"-","keyRUUpper":"_","code":"Minus"},{"code":"Equal","key":"=","upperCased":"+","keyRU":"=","keyRUUpper":"+"},{"key":"Backspace","code":"Backspace","width":"84px","utility":true},{"key":"Tab","code":"Tab","width":"64px","utility":true},{"key":"q","keyUppercased":"Q","keyRU":"й","keyRUUppercased":"Й","code":"KeyQ"},{"key":"w","upperCased":"W","keyRU":"ц","keyRUUpper":"Ц","code":"KeyW"},{"key":"e","upperCased":"E","keyRU":"у","keyRUUpper":"У","code":"KeyE"},{"key":"r","upperCased":"E","keyRU":"у","keyRUUpper":"у","code":"KeyR"},{"key":"t","upperCased":"T","keyRU":"е","keyRUUpper":"Е","code":"KeyT"},{"key":"y","upperCased":"Y","keyRU":"н","keyRUUpper":"Н","code":"KeyY"},{"key":"u","upperCased":"U","keyRU":"г","keyRUUpper":"Г","code":"KeyU"},{"key":"i","upperCased":"I","keyRU":"ш","keyRUUpper":"Ш","code":"KeyI"},{"key":"o","upperCased":"O","keyRU":"ш","keyRUUpper":"Ш","code":"KeyO"},{"key":"p","upperCased":"P","keyRU":"з","keyRUUpper":"З","code":"KeyP"},{"key":"[","upperCased":"{","keyRU":"х","keyRUUpper":"Х","code":"BracketLeft"},{"key":"]","upperCased":"}","keyRU":"ъ","keyRUUpper":"Ъ","code":"BracketRight"},{"key":"Delete","code":"Delete","width":"64px","utility":true},{"key":"CapsLock","code":"CapsLock","width":"44px","utility":true},{"key":"a","upperCased":"I","keyRU":"ш","keyRUUpper":"Ш","code":"KeyA"},{"code":"KeyS","key":"s","upperCased":"S","keyRU":"ы","keyRUUpper":"Ы"},{"code":"KeyD","key":"d","upperCased":"D","keyRU":"в","keyRUUpper":"В"},{"key":"f","keyRU":"а","code":"KeyF"},{"key":"g","keyRU":"п","code":"KeyG"},{"key":"h","keyRU":"р","code":"KeyH"},{"key":"j","keyRU":"о","code":"KeyJ"},{"key":"k","keyRU":"л","code":"KeyK"},{"key":"l","keyRU":"д","code":"KeyL"},{"code":"Semicolon","key":";","upperCased":":","keyRU":"ж","keyRUUpper":"Ш"},{"code":"Quote","key":"\'","keyRU":"э","upperCased":"\\"","keyRUUpper":"Э"},{"code":"Backslash","key":"\\\\","upperCased":"|","keyRU":"\\\\","keyRUUpper":"|"},{"key":"Enter","code":"Enter","width":"44px","utility":true},{"key":"Shift","code":"ShiftLeft","width":"84px","utility":true},{"key":"z","keyRU":"я","code":"KeyZ"},{"key":"x","keyRU":"ч","code":"KeyX"},{"key":"c","keyRU":"с","code":"KeyC"},{"key":"v","keyRU":"м","code":"KeyV"},{"key":"b","keyRU":"и","code":"KeyB"},{"key":"n","keyRU":"т","code":"KeyN"},{"code":"KeyM","key":"m","upperCased":"M","keyRU":"ь","keyRUUpper":"Ь"},{"code":"Comma","key":",","upperCased":"<","keyRU":"б","keyRUUpper":"Б"},{"key":".","keyRU":"ю","code":"Period","upperCased":">","keyRUUpper":"Ю"},{"code":"Slash","key":"/","keyRU":".","upperCased":"?","keyRUUpper":","},{"code":"ArrowUp","key":"▲","upperCased":"▲","keyRU":"▲","keyRUUpper":"▲"},{"key":"Shift","code":"ShiftRight","width":"94px","utility":true},{"key":"Control","code":"ControlLeft","utility":true},{"key":"Win","code":"Win","utility":true},{"key":"Alt","code":"AltLeft","utility":true},{"key":" ","code":"Space","width":"300px"},{"key":"Alt","code":"AltRight","utility":true},{"code":"ArrowLeft","key":"◄","upperCased":"◄","keyRU":"◄","keyRUUpper":"◄"},{"code":"ArrowDown","key":"▼","upperCased":"▼","keyRU":"▼","keyRUUpper":"▼"},{"code":"ArrowRight","key":"►","upperCased":"►","keyRU":"►","keyRUUpper":"►"},{"key":"Control","code":"ControlRight","utility":true}]')}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var p=t[r]={exports:{}};return e[r].call(p.exports,p,p.exports,s),p.exports}s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(766),s(373),s(550)})();