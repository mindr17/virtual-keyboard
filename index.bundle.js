(()=>{"use strict";var e={929:(e,r,n)=>{n.r(r),n.d(r,{default:()=>t});const t='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="#"> <title>Virtual Keyboard</title> </head> <body> </body> </html> '},918:(e,r,n)=>{n.r(r)},404:function(e,r,n){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=t(n(828));r.default=class{keyboardElem;btnObj;elem;char;constructor(e,r){this.keyboardElem=e,this.btnObj=r,this.elem=this.buildBtn(this.btnObj)}buildBtn(e){const r=new s.default(this.keyboardElem,"div","keyboard__key btn","").node;return e.width&&(r.style.minWidth=this.btnObj.width,r.style.flexGrow="1"),e.utility&&r.classList.add("btn_utility"),r}update(e,r,n){this.elem.textContent="",this.char=this.btnObj.key,this.btnObj.utility||(r?r&&("en"!==e||n||this.btnObj.key.toUpperCase()===this.btnObj.key?"en"===e&&n?this.btnObj.key.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.key:this.btnObj.upperCased&&(this.char=this.btnObj.upperCased):"ru"!==e||n?"ru"===e&&n&&(this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.keyRU:this.btnObj.upperCased&&(this.char=this.btnObj.keyRUUpper)):this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key&&(this.char=this.btnObj.keyRU.toUpperCase()):this.char=this.btnObj.key.toUpperCase()):"en"===e&&n?this.btnObj.key.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.key.toUpperCase():this.char=this.btnObj.upperCased:"ru"!==e||n?"ru"===e&&n&&(this.btnObj.keyRU&&this.btnObj.keyRU.toUpperCase()!==this.btnObj.key?this.char=this.btnObj.keyRU.toUpperCase():this.btnObj.upperCased&&(this.char=this.btnObj.keyRUUpper)):this.btnObj.keyRU&&(this.char=this.btnObj.keyRU)),((...e)=>{e.forEach((()=>{}))})(new s.default(this.elem,"div","btn__char",this.char))}}},828:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{node;constructor(e,r,n,t){const s=r?document.createElement(r):document.createElement("div");if(n){const e=n.split(" ");s.classList.add(...e)}t&&(s.textContent=t),e&&e.append(s),this.node=s}destroy(){this.node.remove()}}},402:function(e,r,n){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=t(n(243)),i=t(n(828)),p=t(n(404));r.default=()=>{const e=JSON.parse(s.default),{body:r}=document,n=new i.default(r,"main","main"),t=new i.default(n.node,"header","header").node,o=(...e)=>{e.forEach((()=>{}))};o(new i.default(t,"h1","header__title","RSS виртуальная клавиатура").node,new i.default(t,"div","header__description","Создано для Windows. Переключение языка alt + shift").node);const d=new i.default(n.node,"textarea","input-wrapper").node,y=new i.default(n.node,"div","keyboard-wrapper").node;o(new class{keyboardElem;btnsArr;pressedArr;shift;capsLock;control;alt;language;inputElem;constructor(e,r){this.capsLock=!1,this.shift=!1,this.alt=!1,this.control=!1,this.language="en",localStorage.getItem("virtualKeyboardLanguage")||localStorage.setItem("virtualKeyboardLanguage",this.language),this.pressedArr=[],this.btnsArr=[],this.inputElem=r,this.keyboardElem=new i.default(y,"div","keyboard").node,this.btnsArr=this.addBtns(),this.updateBtns(),this.addGlobalListeners(this.btnsArr)}addBtns(){const r=[];return e.forEach((e=>{const n=new p.default(this.keyboardElem,e);r.push(n),n.elem.onmousedown=()=>{this.keyDown(n)},n.elem.onmouseup=()=>{this.keyUp(n)},n.elem.onmouseout=()=>{this.keyUp(n)}})),r}addGlobalListeners(e){window.onkeydown=r=>{r.preventDefault(),e.forEach((e=>{r.code===e.btnObj.code&&this.keyDown(e)}))},window.onkeyup=r=>{r.preventDefault(),e.forEach((e=>{r.code===e.btnObj.code&&this.keyUp(e)}))}}checkIfPressed(e){return this.pressedArr.filter((r=>r.btnObj.code===e)).length>0}keyDown(e){e.elem.classList.add("btn_pressed"),this.pressedArr.indexOf(e)<0?(this.pressedArr.push(e),this.shift=this.checkIfPressed("ShiftLeft"),"CapsLock"===e.btnObj.key&&(this.capsLock=!this.capsLock,this.capsLock||e.elem.classList.remove("btn_pressed")),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.alt&&this.shift?(this.language="en"===this.language?"ru":"en",localStorage.setItem("virtualKeyboardLanguage",this.language),this.updateBtns()):this.updateBtns()):this.updateBtns(),this.print(e)}keyUp(e){this.pressedArr.forEach(((r,n)=>{r===e&&(this.pressedArr.splice(n,1),this.shift=this.checkIfPressed("ShiftLeft"),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.updateBtns())})),"CapsLock"!==e.btnObj.code&&e.elem.classList.remove("btn_pressed")}print(e){const r=this.inputElem;let n=r.selectionEnd;const t=r.value;0===n&&(n=t.length);let s=t.substring(0,n),i=t.substring(n,t.length),p="";"Backspace"===e.btnObj.code?(s=s.substring(0,s.length-1),p=s+i,n-=1):"Delete"===e.btnObj.code?(i=i.substring(1,i.length),p=s+i):"Enter"===e.btnObj.code?(p=`${s}\n${i}`,n+=1):"Tab"===e.btnObj.code?(p=`${s}    ${i}`,n+=4):e.btnObj.utility?p=t:(p=s+e.char+i,n+=1),d.value=p,d.setSelectionRange(n,n)}updateBtns(){this.language=localStorage.getItem("virtualKeyboardLanguage"),this.btnsArr.forEach((e=>{e.update(this.language,this.capsLock,this.shift)}))}}(y,d))}},399:function(e,r,n){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),(0,t(n(402)).default)()},243:e=>{e.exports='[\r\n    {\r\n        "key": "`",\r\n        "upperCased": "~",\r\n        "keyRU": "ё",\r\n        "keyRUUpper": "Ё",\r\n        "code": "Backquote"\r\n    },\r\n    {\r\n        "key": "1",\r\n        "upperCased": "!",\r\n        "keyRU": "1",\r\n        "keyRUUpper": "!",\r\n        "code": "Digit1"\r\n    },\r\n    {\r\n        "key": "2",\r\n        "upperCased": "@",\r\n        "keyRU": "2",\r\n        "keyRUUpper": "\\"",\r\n        "code": "Digit2"\r\n    },\r\n    {\r\n        "key": "3",\r\n        "upperCased": "#",\r\n        "keyRU": "3",\r\n        "keyRUUpper": "№",\r\n        "code": "Digit3"\r\n    },\r\n    {\r\n        "key": "4",\r\n        "upperCased": "$",\r\n        "keyRU": "4",\r\n        "keyRUUpper": ";",\r\n        "code": "Digit4"\r\n    },\r\n    {\r\n        "key": "5",\r\n        "upperCased": "$",\r\n        "keyRU": "5",\r\n        "keyRUUpper": "%",\r\n        "code": "Digit5"\r\n    },\r\n    {\r\n        "key": "6",\r\n        "upperCased": "^",\r\n        "keyRU": "6",\r\n        "keyRUUpper": ":",\r\n        "code": "Digit6"\r\n    },\r\n    {\r\n        "key": "7",\r\n        "upperCased": "&",\r\n        "keyRU": "7",\r\n        "keyRUUpper": "?",\r\n        "code": "Digit7"\r\n    },\r\n    {\r\n        "key": "8",\r\n        "upperCased": "*",\r\n        "keyRU": "8",\r\n        "keyRUUpper": "*",\r\n        "code": "Digit8"\r\n    },\r\n    {\r\n        "key": "9",\r\n        "keyRU": "9",\r\n        "upperCased": "(",\r\n        "keyRUUpper": "*",\r\n        "code": "Digit9"\r\n    },\r\n    {\r\n        "key": "0",\r\n        "keyRU": "0",\r\n        "upperCased": ")",\r\n        "keyRUUpper": "*",\r\n        "code": "Digit0"\r\n    },\r\n    {\r\n        "key": "-",\r\n        "upperCased": "_",\r\n        "keyRU": "-",\r\n        "keyRUUpper": "_",\r\n        "code": "Minus"\r\n    },\r\n    {\r\n        "code": "Equal",\r\n        "key": "=",\r\n        "upperCased": "+",\r\n        "keyRU": "=",\r\n        "keyRUUpper": "+"\r\n    },\r\n    {\r\n        "key": "Backspace",\r\n        "code": "Backspace",\r\n        "width": "84px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "Tab",\r\n        "code": "Tab",\r\n        "width": "64px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "q",\r\n        "keyUppercased": "Q",\r\n        "keyRU": "й",\r\n        "keyRUUppercased": "Й",\r\n        "code": "KeyQ"\r\n    },\r\n    {\r\n        "key": "w",\r\n        "upperCased": "W",\r\n        "keyRU": "ц",\r\n        "keyRUUpper": "Ц",\r\n        "code": "KeyW"\r\n    },\r\n    {\r\n        "key": "e",\r\n        "upperCased": "E",\r\n        "keyRU": "у",\r\n        "keyRUUpper": "У",\r\n        "code": "KeyE"\r\n    },\r\n    {\r\n        "key": "r",\r\n        "upperCased": "E",\r\n        "keyRU": "у",\r\n        "keyRUUpper": "у",\r\n        "code": "KeyR"\r\n    },\r\n    {\r\n        "key": "t",\r\n        "upperCased": "T",\r\n        "keyRU": "е",\r\n        "keyRUUpper": "Е",\r\n        "code": "KeyT"\r\n    },\r\n    {\r\n        "key": "y",\r\n        "upperCased": "Y",\r\n        "keyRU": "н",\r\n        "keyRUUpper": "Н",\r\n        "code": "KeyY"\r\n    },\r\n    {\r\n        "key": "u",\r\n        "upperCased": "U",\r\n        "keyRU": "г",\r\n        "keyRUUpper": "Г",\r\n        "code": "KeyU"\r\n    },\r\n    {\r\n        "key": "i",\r\n        "upperCased": "I",\r\n        "keyRU": "ш",\r\n        "keyRUUpper": "Ш",\r\n        "code": "KeyI"\r\n    },\r\n    {\r\n        "key": "o",\r\n        "upperCased": "O",\r\n        "keyRU": "ш",\r\n        "keyRUUpper": "Ш",\r\n        "code": "KeyO"\r\n    },\r\n    {\r\n        "key": "p",\r\n        "upperCased": "P",\r\n        "keyRU": "з",\r\n        "keyRUUpper": "З",\r\n        "code": "KeyP"\r\n    },\r\n    {\r\n        "key": "[",\r\n        "upperCased": "{",\r\n        "keyRU": "х",\r\n        "keyRUUpper": "Х",\r\n        "code": "BracketLeft"\r\n    },\r\n    {\r\n        "key": "]",\r\n        "upperCased": "}",\r\n        "keyRU": "ъ",\r\n        "keyRUUpper": "Ъ",\r\n        "code": "BracketRight"\r\n    },\r\n    {\r\n        "key": "Delete",\r\n        "code": "Delete",\r\n        "width": "64px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "CapsLock",\r\n        "code": "CapsLock",\r\n        "width": "44px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "a",\r\n        "upperCased": "I",\r\n        "keyRU": "ш",\r\n        "keyRUUpper": "Ш",\r\n        "code": "KeyA"\r\n    },\r\n    {\r\n        "code": "KeyS",\r\n        "key": "s",\r\n        "upperCased": "S",\r\n        "keyRU": "ы",\r\n        "keyRUUpper": "Ы"\r\n    },\r\n    {\r\n        "code": "KeyD",\r\n        "key": "d",\r\n        "upperCased": "D",\r\n        "keyRU": "в",\r\n        "keyRUUpper": "В"\r\n    },\r\n    {\r\n        "key": "f",\r\n        "keyRU": "а",\r\n        "code": "KeyF"\r\n    },\r\n    {\r\n        "key": "g",\r\n        "keyRU": "п",\r\n        "code": "KeyG"\r\n    },\r\n    {\r\n        "key": "h",\r\n        "keyRU": "р",\r\n        "code": "KeyH"\r\n    },\r\n    {\r\n        "key": "j",\r\n        "keyRU": "о",\r\n        "code": "KeyJ"\r\n    },\r\n    {\r\n        "key": "k",\r\n        "keyRU": "л",\r\n        "code": "KeyK"\r\n    },\r\n    {\r\n        "key": "l",\r\n        "keyRU": "д",\r\n        "code": "KeyL"\r\n    },\r\n    {\r\n        "code": "Semicolon",\r\n        "key": ";",\r\n        "upperCased": ":",\r\n        "keyRU": "ж",\r\n        "keyRUUpper": "Ш"\r\n    },\r\n    {\r\n        "code": "Quote",\r\n        "key": "\'",\r\n        "keyRU": "э",\r\n        "upperCased": "\\"",\r\n        "keyRUUpper": "Э"\r\n    },\r\n    {\r\n        "code": "Backslash",\r\n        "key": "\\\\",\r\n        "upperCased": "|",\r\n        "keyRU": "\\\\",\r\n        "keyRUUpper": "|"        \r\n    },\r\n    {\r\n        "key": "Enter",\r\n        "code": "Enter",\r\n        "width": "44px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "Shift",\r\n        "code": "ShiftLeft",\r\n        "width": "84px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "z",\r\n        "keyRU": "я",\r\n        "code": "KeyZ"\r\n    },\r\n    {\r\n        "key": "x",\r\n        "keyRU": "ч",\r\n        "code": "KeyX"\r\n    },\r\n    {\r\n        "key": "c",\r\n        "keyRU": "с",\r\n        "code": "KeyC"\r\n    },\r\n    {\r\n        "key": "v",\r\n        "keyRU": "м",\r\n        "code": "KeyV"\r\n    },\r\n    {\r\n        "key": "b",\r\n        "keyRU": "и",\r\n        "code": "KeyB"\r\n    },\r\n    {\r\n        "key": "n",\r\n        "keyRU": "т",\r\n        "code": "KeyN"\r\n    },\r\n    {\r\n        "code": "KeyM",\r\n        "key": "m",\r\n        "upperCased": "M",\r\n        "keyRU": "ь",\r\n        "keyRUUpper": "Ь"\r\n    },\r\n    {\r\n        "code": "Comma",\r\n        "key": ",",\r\n        "upperCased": "<",\r\n        "keyRU": "б",\r\n        "keyRUUpper": "Б"\r\n    },\r\n    {\r\n        "key": ".",\r\n        "keyRU": "ю",\r\n        "code": "Period",\r\n        "upperCased": ">",\r\n        "keyRUUpper": "Ю"\r\n    },\r\n    {\r\n        "code": "Slash",\r\n        "key": "/",\r\n        "keyRU": ".",\r\n        "upperCased": "?",\r\n        "keyRUUpper": ","\r\n    },\r\n    {\r\n        "code": "ArrowUp",\r\n        "key": "▲",\r\n        "upperCased": "▲",\r\n        "keyRU": "▲",\r\n        "keyRUUpper": "▲"\r\n    },\r\n    {\r\n        "key": "Shift",\r\n        "code": "ShiftRight",\r\n        "width": "94px",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "Control",\r\n        "code": "ControlLeft",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "Win",\r\n        "code": "Win",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": "Alt",\r\n        "code": "AltLeft",\r\n        "utility": true\r\n    },\r\n    {\r\n        "key": " ",\r\n        "code": "Space",\r\n        "width": "300px"\r\n    },\r\n    {\r\n        "key": "Alt",\r\n        "code": "AltRight",\r\n        "utility": true\r\n    },\r\n    {\r\n        "code": "ArrowLeft",\r\n        "key": "◄",\r\n        "upperCased": "◄",\r\n        "keyRU": "◄",\r\n        "keyRUUpper": "◄"\r\n    },\r\n    {\r\n        "code": "ArrowDown",\r\n        "key": "▼",\r\n        "upperCased": "▼",\r\n        "keyRU": "▼",\r\n        "keyRUUpper": "▼"\r\n    },\r\n    {\r\n        "code": "ArrowRight",\r\n        "key": "►",\r\n        "upperCased": "►",\r\n        "keyRU": "►",\r\n        "keyRUUpper": "►"\r\n    },\r\n    {\r\n        "key": "Control",\r\n        "code": "ControlRight",\r\n        "utility": true\r\n    }\r\n]\r\n'}},r={};function n(t){var s=r[t];if(void 0!==s)return s.exports;var i=r[t]={exports:{}};return e[t].call(i.exports,i,i.exports,n),i.exports}n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(929),n(918),n(399)})();