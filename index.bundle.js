(()=>{var e={766:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});const i='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="shortcut icon" href="#"> <title>Virtual Keyboard</title> </head> <body> </body> </html> '},373:(e,t,s)=>{"use strict";s.r(t)},117:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(s(510));t.default=class{keyboardElem;btnObj;elem;charEn;charEnShift;charRu;charRuShift;char;constructor(e,t){this.keyboardElem=e,this.btnObj=t,this.elem=this.buildBtn(this.btnObj)}buildBtn(e){const t=new r.default(this.keyboardElem,"div","keyboard__key btn","").node;return t.style.userSelect="none",e.width&&(t.style.minWidth=this.btnObj.width,t.style.flexGrow="1"),e.utility&&t.classList.add("btn_utility"),this.charEn=e.key,new r.default(t,"div","btn__char en",this.charEn),this.btnObj.utility?this.charEnShift=this.btnObj.key:this.btnObj.uppperCased?this.charEnShift=this.btnObj.uppperCased:this.charEnShift=this.btnObj.key.toUpperCase(),new r.default(t,"div","btn__char en-shift",this.charEnShift),this.btnObj.keyRU?this.charRu=this.btnObj.keyRU:this.charRu=this.btnObj.key,new r.default(t,"div","btn__char ru",this.charRu),this.btnObj.keyRU&&!this.btnObj.uppperCased?this.charRuShift=this.btnObj.keyRU.toUpperCase():this.btnObj.uppperCased?this.charRuShift=this.btnObj.uppperCased:this.charRuShift=this.btnObj.key,new r.default(t,"div","btn__char ru-shift",this.charRuShift),t}update(e){"en"===e?this.char=this.charEn:"en-shift"===e?this.char=this.charEnShift:"ru"===e?this.char=this.charRu:"ru-shift"===e&&(this.char=this.charRuShift)}}},510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{node;constructor(e,t,s,i){const r=t?document.createElement(t):document.createElement("div");if(s){const e=s.split(" ");r.classList.add(...e)}i&&(r.textContent=i),e&&e.append(r),this.node=r}destroy(){this.node.remove()}}},622:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(271);const r=i(s(510)),d=i(s(760)),o=i(s(117));t.default=()=>{const{body:e}=document,t=new r.default(e,"main","main"),s=new r.default(t.node,"header","header").node;new r.default(s,"h1","header__title","RSS виртуальная клавиатура").node,new r.default(s,"div","header__description","Создано для Windows. Переключение языка alt + shift").node;const i=new r.default(t.node,"textarea","input-wrapper").node,a=new r.default(t.node,"div","keyboard-wrapper").node;new class{keyboardElem;btnsArr;pressedArr;shift;capsLock;control;alt;language;layout;inputElem;constructor(e,t){this.capsLock=!1,this.shift=!1,this.alt=!1,this.control=!1,this.language="en",localStorage.setItem("virtualKeyboardLanguage",this.language),this.pressedArr=[],this.btnsArr=[],this.inputElem=t,this.keyboardElem=new r.default(e,"div","keyboard").node,this.btnsArr=this.addBtns(),this.layout="en",this.updateBtns(),this.addGlobalListeners(this.btnsArr)}addBtns(){let e=[];return d.default.forEach((t=>{const s=new o.default(this.keyboardElem,t);e.push(s),s.elem.onmousedown=()=>{this.keyDown(s)},s.elem.onmouseup=()=>{this.keyUp(s)},s.elem.onmouseout=()=>{this.keyUp(s)}})),e}addGlobalListeners(e){window.onkeydown=t=>{t.preventDefault(),e.forEach((e=>{t.code===e.btnObj.code&&this.keyDown(e)}))},window.onkeyup=t=>{t.preventDefault(),e.forEach((e=>{t.code===e.btnObj.code&&this.keyUp(e)}))}}checkIfPressed(e){return this.pressedArr.filter((t=>t.btnObj.code===e)).length>0}keyDown(e){e.elem.classList.add("btn_pressed"),this.pressedArr.indexOf(e)<0?(this.pressedArr.push(e),this.shift=this.checkIfPressed("ShiftLeft"),"CapsLock"===e.btnObj.key&&(this.capsLock=!this.capsLock,this.capsLock||e.elem.classList.remove("btn_pressed")),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.alt&&this.shift?(this.language="en"===this.language?"ru":"en",localStorage.setItem("virtualKeyboardLanguage",this.language),this.updateBtns()):this.updateBtns()):this.updateBtns(),e.update(this.layout),this.print(i,e)}keyUp(e){this.pressedArr.forEach(((t,s)=>{t===e&&(this.pressedArr.splice(s,1),this.shift=this.checkIfPressed("ShiftLeft"),this.control=this.checkIfPressed("ControlLeft"),this.alt=this.checkIfPressed("AltLeft"),this.updateBtns())})),"CapsLock"!==e.btnObj.code&&e.elem.classList.remove("btn_pressed")}print(e,t){let s=e.selectionEnd,i=e.value,r=i.substring(0,s),d=i.substring(s,i.length),o="";t.btnObj.utility?"Backspace"===t.btnObj.code?(r=r.substring(0,r.length-1),o=r+d,s--):"Delete"===t.btnObj.code?(d=d.substring(1,d.length),o=r+d):"Enter"===t.btnObj.code?(o=r+"\n"+d,s++):"Tab"===t.btnObj.code?o=r+"    "+d:"Tab"===t.btnObj.code?s+=4:t.btnObj.utility&&(e.value=i):(o=r+t.char+d,s++),e.value=o,e.setSelectionRange(s,s)}updateBtns(){e.classList.remove(this.layout),this.language=localStorage.getItem("virtualKeyboardLanguage"),this.layout=this.language,this.shift=this.capsLock?!this.shift:this.shift,"en"===this.layout&&this.shift?this.layout="en-shift":"ru"===this.layout&&this.shift&&(this.layout="ru-shift"),e.classList.add(this.layout)}}(a,i)}},271:()=>{},550:function(e,t,s){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),(0,i(s(622)).default)()},760:e=>{"use strict";e.exports=JSON.parse('[{"key":"`","uppperCased":"~","keyRU":"ё","keyRUUpper":"Ё","code":"Backquote"},{"key":"1","uppperCased":"!","keyRU":"1","keyRUUpper":"1","code":"Digit1"},{"key":"2","uppperCased":"@","keyRU":"2","keyRUUpper":"\\"","code":"Digit2"},{"key":"3","uppperCased":"#","keyRU":"3","keyRUUpper":"№","code":"Digit3"},{"key":"4","uppperCased":"$","keyRU":"4","keyRUUpper":";","code":"Digit4"},{"key":"5","uppperCased":"$","keyRU":"5","keyRUUpper":"%","code":"Digit5"},{"key":"6","uppperCased":"^","keyRU":"5","keyRUUpper":":","code":"Digit6"},{"key":"7","uppperCased":"&","keyRU":"7","keyRUUpper":"?","code":"Digit7"},{"key":"8","uppperCased":"*","keyRU":"8","keyRUUpper":"*","code":"Digit8"},{"key":"9","keyRU":"9","uppperCased":"(","keyRUUpper":"*","code":"Digit9"},{"key":"0","keyRU":"0","uppperCased":")","keyRUUpper":"*","code":"Digit0"},{"key":"-","uppperCased":"_","keyRU":"-","keyRUUpper":"_","code":"Minus"},{"key":"=","uppperCased":"+","code":"Equal"},{"key":"Backspace","code":"Backspace","width":"84px","utility":true},{"key":"Tab","code":"Tab","width":"64px","utility":true},{"key":"q","keyUppercased":"Q","keyRU":"й","keyRUUppercased":"Й","code":"KeyQ"},{"key":"w","uppperCased":"W","keyRU":"ц","keyRUUpper":"Ц","code":"KeyW"},{"key":"e","upperCased":"E","keyRU":"у","keyRUUpper":"У","code":"KeyE"},{"key":"r","upperCased":"E","keyRU":"у","keyRUUpper":"у","code":"KeyR"},{"key":"t","upperCased":"T","keyRU":"е","keyRUUpper":"Е","code":"KeyT"},{"key":"y","upperCased":"Y","keyRU":"н","keyRUUpper":"Н","code":"KeyY"},{"key":"u","upperCased":"U","keyRU":"г","keyRUUpper":"Г","code":"KeyU"},{"key":"i","upperCased":"I","keyRU":"ш","keyRUUpper":"Ш","code":"KeyI"},{"key":"o","upperCased":"O","keyRU":"ш","keyRUUpper":"Ш","code":"KeyO"},{"key":"p","upperCased":"P","keyRU":"з","keyRUUpper":"З","code":"KeyP"},{"key":"[","upperCased":"{","keyRU":"х","keyRUUpper":"Х","code":"BracketLeft"},{"key":"]","upperCased":"}","keyRU":"ъ","keyRUUpper":"Ъ","code":"BracketRight"},{"key":"Delete","code":"Delete","width":"64px","utility":true},{"key":"CapsLock","code":"CapsLock","width":"44px","utility":true},{"key":"a","upperCased":"I","keyRU":"ш","keyRUUpper":"Ш","code":"KeyA"},{"code":"KeyS","key":"s","upperCased":"S","keyRU":"ы","keyRUUpper":"Ы"},{"code":"KeyD","key":"d","upperCased":"D","keyRU":"в","keyRUUpper":"В"},{"key":"f","keyRU":"а","code":"KeyF"},{"key":"g","keyRU":"п","code":"KeyG"},{"key":"h","keyRU":"р","code":"KeyH"},{"key":"j","keyRU":"о","code":"KeyJ"},{"key":"k","keyRU":"л","code":"KeyK"},{"key":"l","keyRU":"д","code":"KeyL"},{"key":";","keyRU":"ж","code":"Semicolon"},{"key":"\'","keyRU":"э","code":"Quote"},{"key":"\\\\","keyRU":"\\\\","code":"Backslash"},{"key":"Enter","code":"Enter","width":"44px","utility":true},{"key":"Shift","code":"ShiftLeft","width":"84px","utility":true},{"key":"z","keyRU":"я","code":"KeyZ"},{"key":"x","keyRU":"ч","code":"KeyX"},{"key":"c","keyRU":"с","code":"KeyC"},{"key":"v","keyRU":"м","code":"KeyV"},{"key":"b","keyRU":"и","code":"KeyB"},{"key":"n","keyRU":"т","code":"KeyN"},{"key":"m","keyRU":"ь","code":"KeyM"},{"key":",","keyRU":"б","code":"Comma"},{"key":".","keyRU":"ю","code":"Period"},{"key":"/","keyRU":".","code":"Slash"},{"key":"▲","code":"ArrowUp"},{"key":"Shift","code":"ShiftRight","width":"94px","utility":true},{"key":"Control","code":"ControlLeft","utility":true},{"key":"Alt","code":"AltLeft","utility":true},{"key":" ","code":"Space","width":"360px"},{"key":"Alt","code":"AltRight","utility":true},{"key":"◄","code":"ArrowLeft"},{"key":"▼","code":"ArrowDown"},{"key":"►","code":"ArrowRight"},{"key":"Control","code":"ControlRight","utility":true}]')}},t={};function s(i){var r=t[i];if(void 0!==r)return r.exports;var d=t[i]={exports:{}};return e[i].call(d.exports,d,d.exports,s),d.exports}s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";s(766),s(373),s(550)})()})();